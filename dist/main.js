(()=>{"use strict";function t(t){return(t-273.15).toFixed(2)}function e(e){return(n=t(e),1.8*n+32).toFixed(2);var n}function n(n,r="f"){let o,i=document.getElementById("weather-modal");i?(function(t){for(;t.firstChild;)t.removeChild(t.lastChild)}(i),o=i):o=document.querySelector("main"),console.log(n);const c=function(t,e){let n=document.createElement("div");n.setAttribute("id","weather-modal");let r=document.createElement("h1");r.textContent=t.type,n.appendChild(r);let o=document.createElement("h2");o.textContent=function(t){let e=t.split("");e[0]=e[0].toUpperCase();try{for(let t=0;t<e.length;t+=1)" "===e[t]&&(e[t+1]=e[t+1].toUpperCase())}catch(t){console.log(t)}return e.join("")}(t.desc),n.appendChild(o);let i=document.createElement("div");i.setAttribute("id","weather-data"),n.appendChild(i);let c=document.createElement("p"),a="";return a+=`The current temperature is ${e(t.temp)}째.<br>`,a+=`It feels like ${e(t.feels_like)}째 though.<br>`,a+=`It will get up to ${e(t.temp_max)}째 today.<br>`,a+=`While also getting down to ${e(t.temp_min)}째.<br>`,c.innerHTML=a,i.appendChild(c),n}(n,function(n){try{if("c"===n)return t;if("f"===n)return e;throw new Error("Unknown unit string passed.")}catch(t){console.log(t)}}(r));o.appendChild(c)}function r(t){const e=t.currentTarget.parentNode,r=e.city.value,o=e.state.value,i=e.country.value;""===r?alert("You need a city name."):""!=o&&""===i?alert("You need a country code."):async function(t){let e=await fetch(t,{mode:"cors"}),n=await e.json(),r={};return r=n.main,r.type=n.weather[0].main,r.desc=n.weather[0].description,r}(function(t,...e){try{if("city"===t)return function(t){try{if(0===t.length)throw new Error("Needed values for City Request not passsed.");if(t.length>3)throw new Error("Too many values for City Request passed.");return"https://api.openweathermap.org/data/2.5/weather?q="+t.reduce(((t,e)=>""===t?t+e:""===e?t:t+","+e),"")+"&appid=09d94b3ecf354f2c118344d82e6361ba"}catch(t){return console.log(t),""}}(e);throw new Error("No matching endpoint of that type.")}catch(t){return console.log(t),""}}("city",r,o,i)).then((t=>{n(t,"f")})).catch((t=>{console.log(t)}))}document.querySelector("main"),function(t){const e=function(){const t=document.createElement("div");t.setAttribute("id","form-container");const e=document.createElement("form");let n=document.createElement("label");n.setAttribute("for","city"),n.textContent="City:",e.appendChild(n);let r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("id","city"),r.setAttribute("name","city"),e.appendChild(r);let o=document.createElement("label");o.setAttribute("for","state"),o.textContent="State:",e.appendChild(o);let i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","state"),i.setAttribute("name","state"),e.appendChild(i);let c=document.createElement("label");c.setAttribute("for","country"),c.textContent="Country:",e.appendChild(c);let a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("id","country"),a.setAttribute("name","country"),e.appendChild(a);let u=document.createElement("button");return u.setAttribute("type","button"),u.setAttribute("id","form-submit"),u.textContent="Go!",e.appendChild(u),t.appendChild(e),t}();t.appendChild(e),document.getElementById("form-submit").addEventListener("click",r)}(document.querySelector("main"))})();